{"version":3,"file":"meta.bundle.js","sources":["../src/utils/hash.ts","../src/entries/meta.ts"],"sourcesContent":["export const hashData = (data: Record<string, any>): string => {\n  const stringified = JSON.stringify(data);\n  // Simple hash function for demonstration\n  let hash = 0;\n  for (let i = 0; i < stringified.length; i++) {\n    const char = stringified.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash;\n  }\n  return hash.toString(16);\n};\n","import {\n  BaseEventHandler,\n  EventData,\n  createEventPayload,\n} from \"../shared/baseEvents\";\nimport { hashData } from \"../utils/hash\";\n\nclass MetaPixelHandler extends BaseEventHandler {\n  constructor() {\n    super();\n    console.log(\"Meta Pixel Handler Initialized\");\n  }\n\n  public track(eventName: string, data: Record<string, any>): void {\n    const payload = createEventPayload(data);\n    const hashedPayload = {\n      ...payload,\n      hash: hashData(payload),\n    };\n\n    const eventData: EventData = {\n      eventName,\n      payload: hashedPayload,\n    };\n\n    if (this.validateEvent(eventData)) {\n      this.sendEvent(eventData);\n      // Here you would typically call the actual Meta Pixel API\n      console.log(\"Meta Pixel Event:\", eventData);\n    }\n  }\n}\n\n// Create and expose the handler instance\nconst metaPixel = new MetaPixelHandler();\n\n// Expose to window for non-module usage\n(window as any).metaPixel = metaPixel;\n"],"names":["hashData","data","stringified","hash","i","char","MetaPixelHandler","BaseEventHandler","eventName","payload","createEventPayload","hashedPayload","__spreadProps","__spreadValues","eventData","metaPixel"],"mappings":";;;;;;;;;;;;;AAAa,MAAAA,IAAW,CAACC,MAAsC;AACvD,QAAAC,IAAc,KAAK,UAAUD,CAAI;AAEvC,MAAIE,IAAO;AACX,WAASC,IAAI,GAAGA,IAAIF,EAAY,QAAQE,KAAK;AACrC,UAAAC,IAAOH,EAAY,WAAWE,CAAC;AAC7B,IAAAD,KAAAA,KAAQ,KAAKA,IAAOE,GAC5BF,IAAOA,IAAOA;AAAA,EAAA;AAET,SAAAA,EAAK,SAAS,EAAE;AACzB;ACHA,MAAMG,UAAyBC,EAAiB;AAAA,EAC9C,cAAc;AACN,UAAA,GACN,QAAQ,IAAI,gCAAgC;AAAA,EAAA;AAAA,EAGvC,MAAMC,GAAmBP,GAAiC;AACzD,UAAAQ,IAAUC,EAAmBT,CAAI,GACjCU,IAAgBC,EAAAC,EAAA,IACjBJ,IADiB;AAAA,MAEpB,MAAMT,EAASS,CAAO;AAAA,IACxB,IAEMK,IAAuB;AAAA,MAC3B,WAAAN;AAAA,MACA,SAASG;AAAA,IACX;AAEI,IAAA,KAAK,cAAcG,CAAS,MAC9B,KAAK,UAAUA,CAAS,GAEhB,QAAA,IAAI,qBAAqBA,CAAS;AAAA,EAC5C;AAEJ;AAGA,MAAMC,IAAY,IAAIT,EAAiB;AAGtC,OAAe,YAAYS;"}